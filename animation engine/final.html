<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <title>Animation Engine</title>
    <script src="https://developer.api.autodesk.com/modelderivative/v2/viewers/7.*/viewer3D.min.js"></script>
    <link rel="stylesheet" href="https://developer.api.autodesk.com/modelderivative/v2/viewers/7.*/style.min.css" />
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="viewer"></div>
    <div id="dashboard">
        <div class="dashboard-header">
            <h2>Animation Engine</h2>
            <p>Select fragments and apply transformations or use AI-powered animation</p>
        </div>

     

        <div class="section">
            <h3>AI-Powered Animation</h3>
            <p>Generate logical animations</p>

            <div class="button-group">
                <button id="autoAnimateBtn" class="btn-success">
                    Generate & Animate
                </button>
                <button onclick="stopAnimations()" class="btn-danger">
                    Stop Animations
                </button>
            </div>

            <div class="animation-controls">
                <input type="number" id="animationSpeed" value="1000" min="100" step="100" title="Speed in ms">
                <button onclick="autoAnimateWithGemini()" class="btn-primary">
                    Apply Speed
                </button>
            </div>
        </div>

        <div class="status-bar">
            <h4>Activity Log</h4>
            <div id="logOutput">System ready. Load a model to begin.</div>
        </div>

           <div class="section">
            <h3>Fragment Selection</h3>
            <div class="control-group">
                <label for="fragmentSelect">Select Fragment</label>
                <select id="fragmentSelect">
                    <option disabled selected>-- Select Fragment --</option>
                </select>
            </div>

            <div class="fragment-info">
                <div>
                    <div>Fragment: <span id="currentFragment">N/A</span></div>
                    <div>dbId: <span id="currentDbId">N/A</span></div>
                </div>
            </div>

            <div class="button-group">
                <button onclick="logModelTree()" class="btn-dark">
                     Log Fragments
                </button>
                <button onclick="resetAllFragments()" class="btn-dark">
                  Reset All
                </button>
            </div>
        </div>

        <div class="section">
            <h3>Transformations</h3>
            <div class="control-group">
                <label>Scale Fragment</label>
                <div class="row">
                    <input type="number" id="scaleFactor" value="1.5" min="0.1" step="0.1" title="Scale factor">
                    <button onclick="scaleSelectedFragment()" class="btn-primary">
                         Scale
                    </button>
                </div>
            </div>

            <div class="control-group">
                <label>Rotate Fragment (degrees)</label>
                <div class="row">
                    <input type="number" id="rotateAngle" value="45" step="1" title="Degrees">
                    <select id="rotateAxis">
                        <option value="x">X Axis</option>
                        <option value="y">Y Axis</option>
                        <option value="z" selected>Z Axis</option>
                    </select>
                    <button onclick="rotateSelectedFragment()" class="btn-primary">
                        Rotate
                    </button>
                </div>
            </div>

            <div class="control-group">
                <label>Translate Fragment</label>
                <div class="row">
                    <input type="number" id="translateX" value="10" step="1" title="X">
                    <input type="number" id="translateY" value="0" step="1" title="Y">
                    <input type="number" id="translateZ" value="0" step="1" title="Z">
                    <button onclick="translateSelectedFragment()" class="btn-primary">
                       Move
                    </button>
                </div>
            </div>
        </div>
    </div>
  <script src="logic.js"></script>

</body>

</html>